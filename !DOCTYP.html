<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ta方酒吧 - 智能服务系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #121212;
            color: #fff;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50, #4ca1af);
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .business-hours {
            margin-top: 10px;
            font-style: italic;
            color: #e0e0e0;
        }
        
        main {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .section {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #4ca1af;
            border-bottom: 2px solid #34495e;
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #bdc3c7;
        }
        
        input[type="text"],
        input[type="tel"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #34495e;
            border-radius: 6px;
            background-color: #2c3e50;
            color: #ecf0f1;
            font-size: 1rem;
        }
        
        input[type="checkbox"],
        input[type="radio"] {
            margin-right: 10px;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .radio-item, .checkbox-item {
            display: flex;
            align-items: center;
        }
        
        button {
            background-color: #4ca1af;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #3d8a96;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .product-card {
            background-color: #2c3e50;
            border-radius: 8px;
            padding: 15px;
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .product-price {
            color: #4ca1af;
            margin-bottom: 10px;
        }
        
        .product-desc {
            font-size: 0.9rem;
            color: #bdc3c7;
            margin-bottom: 15px;
        }
        
        .add-to-cart {
            background-color: #27ae60;
            width: 100%;
        }
        
        .add-to-cart:hover {
            background-color: #219653;
        }
        
        .cart-section {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 20px;
            position: fixed;
            right: 20px;
            top: 20px;
            width: 320px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #34495e;
        }
        
        .cart-total {
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
        }
        
        .environment-details {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #2c3e50;
            border-radius: 8px;
        }
        
        .environment-details.active {
            display: block;
        }
        
        .female-only {
            display: none;
        }
        
        .upload-area {
            border: 2px dashed #34495e;
            padding: 30px;
            text-align: center;
            margin: 10px 0;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .upload-area:hover {
            border-color: #4ca1af;
        }
        
        .staff-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .staff-table th, .staff-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #34495e;
        }
        
        .staff-table th {
            background-color: #2c3e50;
            color: #4ca1af;
        }
        
        .hidden {
            display: none;
        }
        
        #submitBtn {
            background-color: #9b59b6;
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            margin-top: 20px;
        }
        
        #submitBtn:hover {
            background-color: #8e44ad;
        }
        
        .notice {
            background-color: #e74c3c;
            color: white;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .service-detail {
            background-color: #2c3e50;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }
        
        .service-title {
            color: #4ca1af;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .service-list {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .service-list li {
            margin-bottom: 8px;
        }
        
        .image-container {
            display: none;
        }
        
        .required-mark {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .warning-text {
            color: #f39c12;
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        .transport-form {
            background-color: #2c3e50;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .soup-grid {
            display: none;
        }
        
        @media (max-width: 768px) {
            .cart-section {
                position: static;
                width: 100%;
                margin-top: 30px;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Ta方酒吧</div>
        <div class="business-hours" id="businessHours"></div>
    </header>
    
    <main>
        <div class="notice">
            温馨提示：我们高度重视女性顾客的安全，提供专属智能手环、女性安保、独立卫生间/更换间/住宿区等安全保障服务
        </div>
        
        <!-- 用户信息收集版块 -->
        <section class="section" id="userInfoSection">
            <h2 class="section-title">用户信息收集</h2>
            
            <div class="form-group">
                <label for="gender">性别</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="male" name="gender" value="male" onchange="toggleFemaleFields()">
                        <label for="male">男</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="female" name="gender" value="female" onchange="toggleFemaleFields()">
                        <label for="female">女</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="environment">喜爱的环境</label>
                <select id="environment" onchange="showEnvironmentDetails()">
                    <option value="">请选择</option>
                    <option value="heavy">重度热闹</option>
                    <option value="medium">中度热闹</option>
                    <option value="light">轻度热闹</option>
                    <option value="quiet">清吧</option>
                </select>
                
                <!-- 环境详情展示区 -->
                <div id="heavyEnv" class="environment-details">
                    <h3>重度热闹环境详情</h3>
                    <p>蹦迪环境，配备专业DJ团队与控场人员</p>
                    <p>安保配置：女性区域10名女性安保，男性区域15名男性安保</p>
                </div>
                
                <div id="mediumEnv" class="environment-details">
                    <h3>中度热闹环境详情</h3>
                    <p>酒吧驻唱环境，民谣歌单（每日更新）</p>
                    <p>今日歌单：《成都》、《我记得》、《南山南》等节奏欢快的民谣</p>
                </div>
                
                <div id="lightEnv" class="environment-details">
                    <h3>轻度热闹环境详情</h3>
                    <p>提供各类小活动：桌游、台球、飞镖等</p>
                </div>
                
                <div id="quietEnv" class="environment-details">
                    <h3>清吧环境详情</h3>
                    <p>一人一座，间隔20cm，两到三人同行优先推荐沙发</p>
                </div>
            </div>
            
            <div class="form-group">
                <label for="alcoholLevel">能接受的酒精程度</label>
                <select id="alcoholLevel">
                    <option value="">请选择</option>
                    <option value="low">微醺（3-12度）</option>
                    <option value="medium">中度（12-20度）</option>
                    <option value="high">重度（20-45度）</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>是否有酒精过敏史</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="allergyYes" name="allergy" value="yes">
                        <label for="allergyYes">是</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="allergyNo" name="allergy" value="no">
                        <label for="allergyNo">否</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>消费类型</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="alone" name="consumeType" value="alone">
                        <label for="alone">个人小酌</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="friends" name="consumeType" value="friends">
                        <label for="friends">朋友聚会</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="emergencyContact1">紧急联系人1 <span class="required-mark">*</span>（出行服务必填）</label>
                <input type="text" id="emergencyContact1" placeholder="姓名" required>
                <input type="tel" id="emergencyContact1Phone" placeholder="电话号码（11位手机号）" style="margin-top:8px;" required>
                <p class="warning-text">注：填写虚假号码将无法预约出行服务</p>
            </div>
            
            <div class="form-group">
                <label for="emergencyContact2">紧急联系人2（选填）</label>
                <input type="text" id="emergencyContact2" placeholder="姓名">
                <input type="tel" id="emergencyContact2Phone" placeholder="电话号码" style="margin-top:8px;">
            </div>
            
            <div class="form-group">
                <label>是否需要醒酒汤</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="soupYes" name="soberSoup" value="yes" onchange="toggleSoupUpload()">
                        <label for="soupYes">是</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="soupNo" name="soberSoup" value="no" onchange="toggleSoupUpload()">
                        <label for="soupNo">否</label>
                    </div>
                </div>
                
                <div id="soupUpload" class="hidden">
                    <div class="upload-area" onclick="document.getElementById('soupPhoto').click()">
                        <p>点击上传所选醒酒汤材料照片</p>
                        <input type="file" id="soupPhoto" accept="image/*" style="display:none;">
                    </div>
                    <button style="margin-top:10px;">预约醒酒汤</button>
                </div>
            </div>
            
            <div class="form-group">
                <label>其他服务需求</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="needServiceYes" name="needService" value="yes" onchange="toggleServiceDetails()">
                        <label for="needServiceYes">需要</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="needServiceNo" name="needService" value="no" onchange="toggleServiceDetails()">
                        <label for="needServiceNo">不需要</label>
                    </div>
                </div>
                
                <!-- 服务需求详情 -->
                <div id="serviceDetails" class="hidden">
                    <div class="form-group" style="margin-top:15px;">
                        <label>具体服务类型</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="changeRoom" name="services" value="changeRoom" onchange="toggleTransportForm()">
                                <label for="changeRoom">临时衣物更换间</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="accommodation" name="services" value="accommodation" onchange="toggleTransportForm()">
                                <label for="accommodation">酒吧住宿</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="transport" name="services" value="transport" onchange="toggleTransportForm()">
                                <label for="transport">出行服务</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 出行服务表单（选中出行服务时显示） -->
                    <div id="transportForm" class="transport-form hidden">
                        <h4 class="service-title">出行服务预约</h4>
                        <div class="form-group">
                            <label for="departureTime">预计出发时间</label>
                            <input type="datetime-local" id="departureTime" required>
                        </div>
                        <div class="form-group">
                            <label for="destination">目的地</label>
                            <input type="text" id="destination" placeholder="请输入详细地址" required>
                        </div>
                        <div class="form-group">
                            <label>专车类型（系统自动匹配）</label>
                            <p>女性用户 → 女性专车+女性司机 | 男性用户 → 男性专车+男性司机</p>
                        </div>
                        <p class="warning-text">注：需填写有效紧急联系人信息方可预约，专车配备行车记录仪、3个高清摄像头、热水（女性专车额外提供毛毯）</p>
                    </div>
                </div>
            </div>
            
            <!-- 女性专属字段 -->
            <div class="female-only" id="femaleFields">
                <div class="form-group">
                    <label>是否有同行朋友</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="friendYes" name="hasFriend" value="yes">
                            <label for="friendYes">是</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="friendNo" name="hasFriend" value="no">
                            <label for="friendNo">否</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="friendLevel">朋友熟悉程度</label>
                    <select id="friendLevel">
                        <option value="">请选择</option>
                        <option value="very">非常熟悉</option>
                        <option value="general">一般熟悉</option>
                        <option value="just">刚认识</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>智能手环服务</label>
                    <p>我们将为您提供智能手环，包含指纹录入、位置跟踪和一键警报功能</p>
                    <button>预约智能手环服务</button>
                </div>
            </div>
        </section>
        
        <!-- 后续服务详情版块 -->
        <section class="section" id="serviceSection">
            <h2 class="section-title">后续服务详情</h2>
            
            <!-- 卫生间服务 -->
            <div class="service-detail">
                <h3 class="service-title">卫生间服务</h3>
                <ul class="service-list">
                    <li>女性卫生间数量 = 男性卫生间数量 × 2</li>
                    <li>女性卫生间免费提供她研社卫生巾</li>
                    <li>男女性卫生间物理间隔 > 3000米</li>
                    <li>24小时专人清洁，配备应急呼叫按钮</li>
                </ul>
                <p>酒吧卫生间平面图已上传，可至前台查看纸质版</p>
            </div>
            
            <!-- 衣物更换间服务 -->
            <div class="service-detail">
                <h3 class="service-title">临时衣物更换间服务</h3>
                <ul class="service-list">
                    <li>女性更换间数量 = 男性更换间数量 × 1.3（多出三分之一）</li>
                    <li>女性更换间100%全封闭式设计，保障隐私安全</li>
                    <li>男女性更换间区域距离 > 2000米</li>
                    <li>免费提供：一次性贴身衣物、胸贴、卸妆棉、爽肤水</li>
                    <li>更换间内配备充电插座、全身镜、挂衣区</li>
                </ul>
                <p>衣物更换间实景展示可至前台咨询参观</p>
            </div>
            
            <!-- 临时住宿服务 -->
            <div class="service-detail">
                <h3 class="service-title">临时住宿服务</h3>
                <ul class="service-list">
                    <li>价格：180元/晚（当日21:00 - 次日10:00）</li>
                    <li>男女住宿分区管理，物理距离 > 2000米</li>
                    <li>每层配备高清摄像头+24小时值班人员</li>
                    <li>房间配置：独立卫浴、舒适床品、免费矿泉水、充电插座、遮光窗帘</li>
                    <li>身体不适可一键呼叫服务员，女性用户匹配女性服务员，男性用户匹配男性服务员</li>
                </ul>
                <p>住宿环境可至前台预约参观</p>
            </div>
            
            <!-- 出行服务 -->
            <div class="service-detail">
                <h3 class="service-title">出行服务</h3>
                <ul class="service-list">
                    <li>车辆配置：30辆专车（15辆女性专车+15辆男性专车）</li>
                    <li>司机配置：女性专车→女性司机，男性专车→男性司机</li>
                    <li>安全配置：每车配备行车记录仪+3个高清摄像头（车内2个+车外1个）</li>
                    <li>便民配置：所有专车提供免费热水，女性专车额外提供免费毛毯</li>
                    <li>预约要求：必须填写有效紧急联系人信息，司机全程静音服务，路线实时共享给紧急联系人</li>
                </ul>
                <p>专车配置详情可至前台咨询</p>
            </div>
        </section>
        
        <!-- 饮品选择版块 -->
        <section class="section" id="drinksSection">
            <h2 class="section-title">饮品选择</h2>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">奶茶系列（热饮10.9元/杯，冷饮9.9元/杯）</h3>
            <div class="product-grid" id="milkTeaGrid">
                <!-- 奶茶产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">微醺程度饮品（12.9元/杯）</h3>
            <div class="product-grid" id="lowAlcoholGrid">
                <!-- 微醺饮品产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">中度酒精饮品（14.9元/杯）</h3>
            <div class="product-grid" id="mediumAlcoholGrid">
                <!-- 中度饮品产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">重度酒精饮品（25元/杯，每位限购5杯）</h3>
            <div class="product-grid" id="highAlcoholGrid">
                <!-- 重度饮品产品会通过JS动态生成 -->
            </div>
        </section>
        
        <!-- 食品推荐版块 -->
        <section class="section" id="foodSection">
            <h2 class="section-title">食品推荐</h2>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">酥脆炸物类</h3>
            <div class="product-grid" id="friedFoodGrid">
                <!-- 炸物产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">肉香卤味类</h3>
            <div class="product-grid" id="marinatedFoodGrid">
                <!-- 卤味产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">海鲜小食类</h3>
            <div class="product-grid" id="seafoodGrid">
                <!-- 海鲜产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">芝士/碳水类</h3>
            <div class="product-grid" id="cheeseCarbGrid">
                <!-- 芝士碳水产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">凉拌/清爽类</h3>
            <div class="product-grid" id="saladGrid">
                <!-- 凉拌产品会通过JS动态生成 -->
            </div>
            
            <h3 style="margin:20px 0 10px 0;color:#4ca1af;">创意小食类</h3>
            <div class="product-grid" id="creativeFoodGrid">
                <!-- 创意小食产品会通过JS动态生成 -->
            </div>
        </section>
        
        <!-- 工作人员信息版块 -->
        <section class="section" id="staffSection">
            <h2 class="section-title">工作人员信息</h2>
            
            <div class="form-group">
                <label for="staffSearch">搜索工号</label>
                <input type="text" id="staffSearch" placeholder="请输入工号">
                <button style="margin-top:10px;">搜索</button>
            </div>
            
            <table class="staff-table">
                <thead>
                    <tr>
                        <th>工号</th>
                        <th>姓名</th>
                        <th>职位</th>
                        <th>性别</th>
                        <th>联系方式</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>M001</td>
                        <td>张明</td>
                        <td>经理</td>
                        <td>男</td>
                        <td>138****1234</td>
                    </tr>
                    <tr>
                        <td>M002</td>
                        <td>李婷</td>
                        <td>经理</td>
                        <td>女</td>
                        <td>139****5678</td>
                    </tr>
                    <tr>
                        <td>S001</td>
                        <td>王芳</td>
                        <td>服务员</td>
                        <td>女</td>
                        <td>137****9012</td>
                    </tr>
                    <tr>
                        <td>S002</td>
                        <td>李强</td>
                        <td>安保</td>
                        <td>男</td>
                        <td>136****3456</td>
                    </tr>
                    <tr>
                        <td>D001</td>
                        <td>陈静</td>
                        <td>专车司机（女性）</td>
                        <td>女</td>
                        <td>135****7890</td>
                    </tr>
                    <tr>
                        <td>D002</td>
                        <td>赵伟</td>
                        <td>专车司机（男性）</td>
                        <td>男</td>
                        <td>134****2345</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- 提交按钮 -->
        <button id="submitBtn" onclick="submitInfo()">提交订单与需求</button>
    </main>
    
    <!-- 购物车侧边栏 -->
    <div class="cart-section">
        <h3 style="margin-bottom:15px;">购物车</h3>
        <div id="cartItems">
            <!-- 购物车项目会通过JS动态生成 -->
            <div class="cart-item">
                <span>购物车为空</span>
            </div>
        </div>
        <div class="cart-total">
            <span>总计：</span>
            <span id="cartTotal">¥0.00</span>
        </div>
    </div>
    
    <script>
        // 显示营业时间
        function displayBusinessHours() {
            const now = new Date();
            const day = now.getDay(); // 0是周日，1-6是周一到周六
            let hours = "";
            
            if (day === 0 || day === 6) { // 周六或周日
                hours = "今日营业：24小时";
            } else { // 周一到周五
                hours = "今日营业：18:00 - 次日04:00";
            }
            
            document.getElementById('businessHours').textContent = hours;
        }
        
        // 切换女性专属字段显示
        function toggleFemaleFields() {
            const femaleFields = document.getElementById('femaleFields');
            if (document.getElementById('female').checked) {
                femaleFields.style.display = 'block';
            } else {
                femaleFields.style.display = 'none';
            }
        }
        
        // 显示环境详情
        function showEnvironmentDetails() {
            const env = document.getElementById('environment').value;
            
            // 隐藏所有环境详情
            document.querySelectorAll('.environment-details').forEach(el => {
                el.classList.remove('active');
            });
            
            // 显示选中的环境详情
            if (env) {
                document.getElementById(`${env}Env`).classList.add('active');
            }
        }
        
        // 切换醒酒汤上传区域
        function toggleSoupUpload() {
            const soupUpload = document.getElementById('soupUpload');
            if (document.getElementById('soupYes').checked) {
                soupUpload.classList.remove('hidden');
            } else {
                soupUpload.classList.add('hidden');
            }
        }
        
        // 切换服务详情显示
        function toggleServiceDetails() {
            const serviceDetails = document.getElementById('serviceDetails');
            if (document.getElementById('needServiceYes').checked) {
                serviceDetails.classList.remove('hidden');
            } else {
                serviceDetails.classList.add('hidden');
                document.getElementById('transportForm').classList.add('hidden');
            }
        }
        
        // 切换出行服务表单显示
        function toggleTransportForm() {
            const transportForm = document.getElementById('transportForm');
            const transportChecked = document.getElementById('transport').checked;
            
            if (transportChecked) {
                transportForm.classList.remove('hidden');
            } else {
                transportForm.classList.add('hidden');
            }
        }
        
        // 产品数据
        const milkTeaProducts = [
            {name: "桂语暖香", desc: "桂花乌龙+鲜奶+琥珀珍珠", price: "10.9", type: "hot"},
            {name: "芋泥绵云奶霜", desc: "荔浦芋泥+红茶+咸奶霜", price: "10.9", type: "hot"},
            {name: "青提气泡奶绿", desc: "鲜榨青提+茉莉奶绿+气泡水", price: "9.9", type: "cold"},
            {name: "西瓜啵啵冰茶", desc: "西瓜果肉+绿茶+脆啵啵+冰沙", price: "9.9", type: "cold"}
        ];
        
        const lowAlcoholProducts = [
            {name: "抹茶云栖", desc: "5度，宇治抹茶+米酒+乳酸菌+淡奶", price: "12.9"},
            {name: "桃雾轻酌", desc: "7.5度，水蜜桃汁+白朗姆+气泡水+茉莉花瓣", price: "12.9"},
            {name: "桂雨白桃酒", desc: "9.5度，桂花蜜+白桃利口酒+清酒+桂花干", price: "12.9"}
        ];
        
        const mediumAlcoholProducts = [
            {name: "焦糖威士忌奶咖", desc: "15度，威士忌+焦糖酱+鲜奶+浓缩咖啡", price: "14.9"},
            {name: "黑加仑白兰地", desc: "14.5度，黑加仑汁+白兰地+冰块稀释", price: "14.9"}
        ];
        
        const highAlcoholProducts = [
            {name: "琥珀灼光", desc: "32度，威士忌+焦糖糖浆+橙皮苦精", price: "25"},
            {name: "黑松露马天尼", desc: "33度，伏特加+黑松露利口酒+浓缩咖啡", price: "25"}
        ];
        
        const foodProducts = {
            fried: [
                {name: "椒盐黑松露薯条", price: "28"},
                {name: "蒜香黄油鸡翅", price: "36"},
                {name: "香辣酥脆鱿鱼圈", price: "32"}
            ],
            marinated: [
                {name: "秘制卤鸭脖", price: "38"},
                {name: "酱香卤鸭舌", price: "42"},
                {name: "麻辣卤鸡爪", price: "35"}
            ],
            seafood: [
                {name: "冰镇醉虾", price: "56"},
                {name: "蒜蓉粉丝烤扇贝", price: "48"},
                {name: "香辣柠檬凤螺", price: "42"}
            ],
            cheeseCarb: [
                {name: "拉丝芝士焗红薯", price: "26"},
                {name: "墨西哥玉米脆片", price: "30"},
                {name: "培根芝士焗土豆泥", price: "32"}
            ],
            salad: [
                {name: "泰式青木瓜沙拉", price: "28"},
                {name: "凉拌黄瓜卷", price: "18"},
                {name: "手撕鸡丝拌洋葱", price: "29"}
            ],
            creative: [
                {name: "黑松露芝士焗口蘑", price: "38"},
                {name: "烟熏三文鱼塔塔", price: "62"},
                {name: "迷你牛肉汉堡", price: "42"}
            ]
        };
        
        // 生成产品卡片
        function renderProducts(products, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                
                card.innerHTML = `
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">¥${product.price}</div>
                    ${product.desc ? `<div class="product-desc">${product.desc}</div>` : ''}
                    ${product.type ? `<div class="product-type" style="color:#bdc3c7;font-size:0.8rem;">${product.type === 'hot' ? '热饮' : '冷饮'}</div>` : ''}
                    <button class="add-to-cart" onclick="addToCart('${product.name}', ${product.price})">加入购物车</button>
                `;
                
                container.appendChild(card);
            });
        }
        
        // 购物车功能
        let cart = [];
        let highAlcoholCount = 0;
        
        function addToCart(name, price) {
            // 检查重度酒精饮品限购
            if (price === 25 && highAlcoholCount >= 5) {
                alert('重度酒精饮品每位用户限购5杯，已达上限！');
                return;
            }
            
            cart.push({name, price});
            
            if (price === 25) {
                highAlcoholCount++;
            }
            
            updateCart();
        }
        
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="cart-item"><span>购物车为空</span></div>';
                cartTotal.textContent = '¥0.00';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <span>${item.name}</span>
                    <span>¥${item.price}</span>
                `;
                cartItems.appendChild(cartItem);
                
                total += item.price;
            });
            
            cartTotal.textContent = `¥${total.toFixed(2)}`;
        }
        
        // 提交信息验证
        function submitInfo() {
            // 基础信息验证
            const gender = document.querySelector('input[name="gender"]:checked');
            const environment = document.getElementById('environment').value;
            const emergencyContact1 = document.getElementById('emergencyContact1').value;
            const emergencyContact1Phone = document.getElementById('emergencyContact1Phone').value;
            const transportChecked = document.getElementById('transport').checked;
            
            if (!gender) {
                alert('请选择性别！');
                return;
            }
            
            if (!environment) {
                alert('请选择喜爱的环境！');
                return;
            }
            
            // 出行服务验证（紧急联系人必填）
            if (transportChecked) {
                if (!emergencyContact1 || !emergencyContact1Phone) {
                    alert('预约出行服务必须填写有效紧急联系人信息！');
                    return;
                }
                
                // 手机号格式验证
                const phoneReg = /^1[3-9]\d{9}$/;
                if (!phoneReg.test(emergencyContact1Phone)) {
                    alert('紧急联系人电话号码格式不正确，请填写11位手机号！');
                    return;
                }
                
                const departureTime = document.getElementById('departureTime').value;
                const destination = document.getElementById('destination').value;
                if (!departureTime || !destination) {
                    alert('请填写出行服务的出发时间和目的地！');
                    return;
                }
            }
            
            // 住宿服务验证（如果选择）
            const accommodationChecked = document.getElementById('accommodation').checked;
            if (accommodationChecked) {
                const confirm = window.confirm('住宿服务价格180元/晚（21:00-次日10:00），男女分区住宿，是否确认预约？');
                if (!confirm) {
                    return;
                }
            }
            
            // 模拟数据提交
            alert('您的信息已提交成功！前台工作人员将尽快处理您的需求。');
            
            // 打印提交的信息（实际项目中发送到服务器）
            console.log('用户提交信息：', {
                性别: gender.value,
                环境偏好: environment,
                紧急联系人1: {
                    姓名: emergencyContact1,
                    电话: emergencyContact1Phone
                },
                紧急联系人2: {
                    姓名: document.getElementById('emergencyContact2').value,
                    电话: document.getElementById('emergencyContact2Phone').value
                },
                服务需求: {
                    临时衣物更换间: document.getElementById('changeRoom').checked,
                    酒吧住宿: accommodationChecked,
                    出行服务: transportChecked
                },
                购物车商品: cart,
                消费总计: cart.reduce((sum, item) => sum + item.price, 0) + (accommodationChecked ? 180 : 0)
            });
        }
        
        // 页面加载时初始化
        window.onload = function() {
            displayBusinessHours();
            renderProducts(milkTeaProducts, 'milkTeaGrid');
            renderProducts(lowAlcoholProducts, 'lowAlcoholGrid');
            renderProducts(mediumAlcoholProducts, 'mediumAlcoholGrid');
            renderProducts(highAlcoholProducts, 'highAlcoholGrid');
            
            renderProducts(foodProducts.fried, 'friedFoodGrid');
            renderProducts(foodProducts.marinated, 'marinatedFoodGrid');
            renderProducts(foodProducts.seafood, 'seafoodGrid');
            renderProducts(foodProducts.cheeseCarb, 'cheeseCarbGrid');
            renderProducts(foodProducts.salad, 'saladGrid');
            renderProducts(foodProducts.creative, 'creativeFoodGrid');
        };
    </script>
</body>
</html>